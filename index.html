<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒŸãƒ‹ãƒãƒ™ãƒ«ã‚²ãƒ¼ãƒ </title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React and ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Babel Standalone for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // ã‚¢ã‚¤ã‚³ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆSVGï¼‰
    const RotateCcw = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
      </svg>
    );

    const Award = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
      </svg>
    );

    const scenarios = [
      {
        id: 1,
        title: 'è¬ã®ä¾é ¼',
        setup: 'ã‚ãªãŸã¯æ¢åµäº‹å‹™æ‰€ã§å¤ã„å†™çœŸã‚’æ‰‹æ¸¡ã•ã‚Œã¾ã—ãŸã€‚',
        choices: [
          { id: 1, text: 'å†™çœŸã®äººç‰©ã«ã¤ã„ã¦èª¿ã¹ã‚‹', preview: 'ç§ï¼šã€Œã“ã®äººç‰©ã¯...' },
          { id: 2, text: 'å†™çœŸã®èƒŒæ™¯ã«ã¤ã„ã¦èª¿ã¹ã‚‹', preview: 'ç§ï¼šã€Œã“ã®å»ºç‰©ã¯...' }
        ],
        branches: {
          1: {
            text: 'ç§ï¼šã€Œã“ã®äººç‰©ã¯10å¹´å‰ã«å¤±è¸ªã—ãŸç”°ä¸­æ§˜ã§ã™ã­ã€\nä¾é ¼äººï¼šã€Œãã†ã€ã§ã‚‚ç§ãŒçŸ¥ã‚ŠãŸã„ã®ã¯ãƒ»ãƒ»ãƒ»ã€\nç§ï¼šã€Œå¤±ç¤¼ã—ã¾ã—ãŸã€‚ã€ã‚‚ã†ã²ã¨ã¤ã€‘ã®æ‰‹ãŒã‹ã‚Šã‚’èª¿ã¹ã¾ã™ã€‚èƒŒæ™¯ã®å»ºç‰©ã§ã™ã­ã€\n\n(ã‚ãªãŸã¯ä½•ã‹ã‚’è¦‹ã¤ã‘ãŸæ°—ãŒã—ãŸã€‚å†™çœŸã®éš…ã«å°ã•ãªæ–‡å­—ãŒ...ã€Œã‚‚ã€)',
            hasWord: true,
            epilogue: 'ãã®å¾Œã€ã‚ãªãŸã¯èƒŒæ™¯ã®æ‰‹ãŒã‹ã‚Šã‹ã‚‰äº‹ä»¶ã‚’è§£æ±ºã—ã€ä¸€äººå‰ã®æ¢åµã¨ã—ã¦èªã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n(ä½•ã‹ãŒé›†ã¾ã‚Šå§‹ã‚ã¦ã„ã‚‹...ã€Œã‚‚ã€ã¨ã„ã†æ–‡å­—ã‚’æ‰‹ã«å…¥ã‚ŒãŸ)'
          },
          2: {
            text: 'ç§ï¼šã€Œã“ã®å»ºç‰©ã¯å–ã‚Šå£Šã•ã‚ŒãŸæ—§å¸‚åºèˆã§ã™ã€\nä¾é ¼äººï¼šã€Œã¾ã•ã«ãã“!ã‚ã‚ŠãŒã¨ã†ã€æ¢åµã•ã‚“ã€',
            hasWord: false,
            epilogue: 'äº‹ä»¶ã¯è§£æ±ºã—ã¾ã—ãŸãŒã€ä½•ã‹ç‰©è¶³ã‚Šãªã•ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚\nä¾é ¼äººã¯æº€è¶³ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ãªãŸã¯å†™çœŸã®äººç‰©ã«ã¤ã„ã¦ã‚‚ã£ã¨èª¿ã¹ãŸã‹ã£ãŸã®ã§ã™ã€‚\n(ã‚‚ã—ã‹ã—ãŸã‚‰ã€ã‚‚ã†ã²ã¨ã¤ã®æ‰‹ãŒã‹ã‚ŠãŒã‚ã£ãŸã®ã‹ã‚‚ã—ã‚Œãªã„...)'
          }
        }
      },
      {
        id: 2,
        title: 'ä¸æ€è­°ãªãƒ¬ã‚¹ãƒˆãƒ©ãƒ³',
        setup: 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã¯ã€Œæœ¬æ—¥ã®ãŠã™ã™ã‚ã€ã¨ã€Œã‚·ã‚§ãƒ•ã®ãã¾ãã‚Œã€ãŒã‚ã‚Šã¾ã™ã€‚',
        choices: [
          { id: 1, text: 'æœ¬æ—¥ã®ãŠã™ã™ã‚ã‚’æ³¨æ–‡ã™ã‚‹', preview: 'ã‚·ã‚§ãƒ•ï¼šã€ŒãŠå¾…ãŸã›...' },
          { id: 2, text: 'ã‚·ã‚§ãƒ•ã®ãã¾ãã‚Œã‚’æ³¨æ–‡ã™ã‚‹', preview: 'ã‚·ã‚§ãƒ•ï¼šã€ŒãŠå¾…ãŸã›...' }
        ],
        branches: {
          1: {
            text: 'ã‚·ã‚§ãƒ•ï¼šã€ŒãŠå¾…ãŸã›ã—ã¾ã—ãŸã€\nç¾å‘³ã—ã„æ–™ç†ãŒé‹ã°ã‚Œã¦ããŸã€‚\nã‚·ã‚§ãƒ•ï¼šã€ŒãŠæ°—ã«å¬ã—ã¾ã—ãŸã‹?ã€\nç§ï¼šã€Œã¯ã„!ã€',
            hasWord: false,
            epilogue: 'æ–™ç†ã¯ç¾å‘³ã—ã‹ã£ãŸã§ã™ãŒã€ã‚·ã‚§ãƒ•ã®ã€Œãã¾ãã‚Œã€ãŒæ°—ã«ãªã‚Šã¾ã—ãŸã€‚\næ¬¡å›ã¯ã€ãã¾ãã‚Œãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚è©¦ã—ã¦ã¿ã‚ˆã†ã¨å¿ƒã«æ±ºã‚ã¾ã—ãŸã€‚\n(ã‚‚ã—ã‹ã—ãŸã‚‰ã€ã‚ã®ç©ºã®çš¿ã«ã¯ä½•ã‹æ„å‘³ãŒã‚ã£ãŸã®ã‹ã‚‚ã—ã‚Œãªã„...)'
          },
          2: {
            text: 'ã‚·ã‚§ãƒ•ï¼šã€ŒãŠå¾…ãŸã›ã—ã¾ã—ãŸã€\né‹ã°ã‚Œã¦ããŸã®ã¯ç©ºã®çš¿ã€‚\nç§ï¼šã€Œã‚ã®ãƒ»ãƒ»ãƒ»ã“ã‚Œã¯?ã€\nã‚·ã‚§ãƒ•ï¼šã«ã£ã“ã‚Šç¬‘ã£ã¦ã€Œä»Šæ—¥ã®ãã¾ãã‚Œã¯ã€æƒ³åƒã®æ–™ç†ã€ã§ã™ã€\nç§ï¼šã€Œãƒ»ãƒ»ãƒ»?ã€\nã‚·ã‚§ãƒ•ï¼šã€Œå†—è«‡ã§ã™ã€‚ã€ã‚‚ã†ã²ã¨ã¤ã€‘ãŠæŒã¡ã—ã¾ã™ã€\n\n(çš¿ã®åº•ã«ä½•ã‹ãŒåˆ»ã¾ã‚Œã¦ã„ãŸ...ã€Œã†ã€)',
            hasWord: true,
            epilogue: 'ã‚·ã‚§ãƒ•ã®ãƒ¦ãƒ¼ãƒ¢ã‚¢ã«ç¬‘ã„ãªãŒã‚‰ã€ã‚ãªãŸã¯ã“ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®å¸¸é€£å®¢ã«ãªã‚Šã¾ã—ãŸã€‚\n(ã¾ãŸæ–‡å­—ã‚’æ‰‹ã«å…¥ã‚ŒãŸ...ã€Œã†ã€)'
          }
        }
      },
      {
        id: 3,
        title: 'ã‚¿ã‚¤ãƒ ã‚«ãƒ—ã‚»ãƒ«',
        setup: '20å¹´å‰ã«åŸ‹ã‚ãŸã‚¿ã‚¤ãƒ ã‚«ãƒ—ã‚»ãƒ«ã‚’æ˜ã‚Šèµ·ã“ã™æ—¥ãŒãã¾ã—ãŸã€‚',
        choices: [
          { id: 1, text: 'ä¸€äººã§é–‹ã‘ã‚‹', preview: 'ä¸­ã«ã¯æ‰‹ç´™ã¨å£Šã‚ŒãŸ...' },
          { id: 2, text: 'å¹¼é¦´æŸ“ã‚’å‘¼ã‚“ã§ä¸€ç·’ã«é–‹ã‘ã‚‹', preview: 'å‹ï¼šã€Œé–‹ã‘ã‚ˆã†!ã€...' }
        ],
        branches: {
          1: {
            text: 'ä¸­ã«ã¯æ‰‹ç´™ã¨å£Šã‚ŒãŸã‚­ãƒ¼ãƒ›ãƒ«ãƒ€ãƒ¼ãŒå…¥ã£ã¦ã„ãŸã€‚\næ‰‹ç´™ï¼šã€Œæœªæ¥ã®åƒ•ã¸ã€‚å¤¢ã¯å¶ã£ãŸ?ã€\nèƒ¸ãŒç· ã‚ä»˜ã‘ã‚‰ã‚Œã‚‹ã€‚\n(ã‚ã„ã¤ã¨ä¸€ç·’ã«åŸ‹ã‚ãŸã®ã«ãƒ»ãƒ»ãƒ»)',
            hasWord: false,
            epilogue: 'ä¸€äººã§ã‚¿ã‚¤ãƒ ã‚«ãƒ—ã‚»ãƒ«ã‚’é–‹ã‘ãŸå¾Œã€å¾Œæ‚”ã®å¿µã«è¥²ã‚ã‚Œã¾ã—ãŸã€‚\nå¹¼é¦´æŸ“ã‚’å‘¼ã¹ã°è‰¯ã‹ã£ãŸ...ãã†æ€ã†ã¨ã€èƒ¸ãŒç—›ã¿ã¾ã—ãŸã€‚\n(ã‚‚ã—ã‹ã—ãŸã‚‰ã€ä¸€ç·’ã«é–‹ã‘ã¦ã„ã‚Œã°ã€é•ã†ä½•ã‹ãŒè¦‹ã¤ã‹ã£ãŸã‹ã‚‚ã—ã‚Œãªã„)'
          },
          2: {
            text: 'å‹ï¼šã€Œé–‹ã‘ã‚ˆã†!ã€\nä¸­ã«ã¯æ‰‹ç´™ãŒäºŒé€šã€‚\nç§ï¼šã€Œã‚ã‚Œã€ä¸€é€šã—ã‹å…¥ã‚Œã¦ãªã„ã‚ˆã­?ã€\nå‹ï¼šãƒ‹ãƒ¤ãƒªã¨ç¬‘ã£ã¦ã€Œå®Ÿã¯åƒ•ã‚‚ã€ã‚‚ã†ã²ã¨ã¤ã€‘å…¥ã‚Œã¦ãŸã‚“ã ã€‚èª­ã‚“ã§ã¿ã¦ã€\næ‰‹ç´™ã«ã¯åŠ±ã¾ã—ã®è¨€è‘‰ãŒç¶´ã‚‰ã‚Œã¦ã„ãŸã€‚\n\n(æ‰‹ç´™ã®è£ã«å°ã•ãªæ–‡å­—ãŒ...ã€Œã²ã€)',
            hasWord: true,
            epilogue: 'å¹¼é¦´æŸ“ã¨ã®çµ†ã‚’å†ç¢ºèªã—ãŸã‚ãªãŸã¯ã€äºŒäººã§æ–°ã—ã„ã‚¿ã‚¤ãƒ ã‚«ãƒ—ã‚»ãƒ«ã‚’åŸ‹ã‚ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\n(3ã¤ç›®ã®æ–‡å­—ã‚’ç™ºè¦‹...ã€Œã²ã€)'
          }
        }
      },
      {
        id: 4,
        title: 'é­”æ³•å­¦æ ¡ã®è©¦é¨“',
        setup: 'è©¦é¨“å®˜ï¼šã€Œã‚¦ã‚µã‚®ã‚’å‡ºç¾ã•ã›ãªã•ã„ã€',
        choices: [
          { id: 1, text: 'å‘ªæ–‡ã‚’å”±ãˆã‚‹', preview: 'ãƒ‘ãƒƒ!ã‚¦ã‚µã‚®ãŒ2...' },
          { id: 2, text: 'å¸½å­ã‹ã‚‰å–ã‚Šå‡ºã™', preview: 'ã‚¹ãƒƒã¨å¸½å­ã‹ã‚‰ã‚¦ã‚µ...' }
        ],
        branches: {
          1: {
            text: 'ãƒ‘ãƒƒ!ã‚¦ã‚µã‚®ãŒ2ç¾½å‡ºç¾ã—ãŸã€‚\nè©¦é¨“å®˜ï¼šã€ŒãŠã‚„?ã€\nç§ï¼šã€Œã™ã¿ã¾ã›ã‚“ã€é­”åŠ›ãŒå¼·ã™ãã¦ãƒ»ãƒ»ãƒ»ã€\nè©¦é¨“å®˜ï¼šã€Œæ§‹ã„ã¾ã›ã‚“ã€‚ã§ã¯ã€ã‚‚ã†ã²ã¨ã¤ã€‘æ¶ˆã—ã¦ãã ã•ã„ã€\nç§ï¼šå†·ã‚„æ±—ã‚’ã‹ãã€‚\n\n(æ¶ˆãˆãŸã‚¦ã‚µã‚®ã®è·¡ã«æ–‡å­—ãŒæµ®ã‹ã‚“ã ...ã€Œã¨ã€)',
            hasWord: true,
            epilogue: 'ã‚ãªãŸã¯é­”æ³•ã¨æ‰‹å“ã®ä¸¡æ–¹ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã€èª°ã‚‚ãŒé©šãã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\n(4ã¤ç›®ã®æ–‡å­—ã‚’æ‰‹ã«å…¥ã‚ŒãŸ...ã€Œã¨ã€)'
          },
          2: {
            text: 'ã‚¹ãƒƒã¨å¸½å­ã‹ã‚‰ã‚¦ã‚µã‚®ã‚’å–ã‚Šå‡ºã—ãŸã€‚\nè©¦é¨“å®˜ï¼šã€Œå®Œç’§ã§ã™ã€‚åˆæ ¼ã€\nè©¦é¨“ãŒçµ‚ã‚ã£ã¦ã‹ã‚‰æ°—ã¥ã„ãŸã€‚\n(ã‚ã‚Œã€é­”æ³•ä½¿ã£ã¦ãªã„ã?)',
            hasWord: false,
            epilogue: 'è©¦é¨“ã«ã¯åˆæ ¼ã—ã¾ã—ãŸãŒã€æ‰‹å“ã§ã”ã¾ã‹ã—ãŸã“ã¨ã«ç½ªæ‚ªæ„Ÿã‚’è¦šãˆã¾ã—ãŸã€‚\næœ¬å½“ã®é­”æ³•ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã€ã‚ãªãŸã¯å†ã³é­”æ³•å­¦æ ¡ã®é–€ã‚’å©ãã“ã¨ã«ã—ã¾ã—ãŸã€‚\n(ã‚‚ã—ã‹ã—ãŸã‚‰ã€å‘ªæ–‡ã‚’å”±ãˆã¦ã„ã‚Œã°ã€ä½•ã‹ç‰¹åˆ¥ãªã“ã¨ãŒèµ·ããŸã‹ã‚‚ã—ã‚Œãªã„)'
          }
        }
      },
      {
        id: 5,
        title: 'æœ€å¾Œã®ãƒ”ãƒ¼ã‚¹',
        setup: '1000ãƒ”ãƒ¼ã‚¹ã®ã‚¸ã‚°ã‚½ãƒ¼ãƒ‘ã‚ºãƒ«ãŒã‚ã¨1ãƒ”ãƒ¼ã‚¹ã§å®Œæˆã—ã¾ã™ã€‚',
        choices: [
          { id: 1, text: 'æœ€å¾Œã®ãƒ”ãƒ¼ã‚¹ã‚’ã¯ã‚ã‚‹', preview: 'ã‚«ãƒãƒƒã€‚å®Œæˆã—ãŸçµµã¯...' },
          { id: 2, text: 'å‘¨ã‚Šã‚’æ¢ã—ã¦ã¿ã‚‹', preview: 'åºŠã‚’é€™ã„ã¤ãã°ã£ã¦æ¢...' }
        ],
        branches: {
          1: {
            text: 'ã‚«ãƒãƒƒã€‚å®Œæˆã—ãŸçµµã¯ç¾ã—ã„æ˜Ÿç©ºã€‚\né”æˆæ„Ÿã«æº€ãŸã•ã‚Œã‚‹ã€‚\nãã®æ™‚ã€åºŠã«ä½•ã‹ãŒè½ã¡ã¦ã„ã‚‹ã®ã«æ°—ã¥ã„ãŸã€‚\n(ãˆãƒ»ãƒ»ãƒ»ã¾ã•ã‹)',
            hasWord: false,
            epilogue: 'ãƒ‘ã‚ºãƒ«ã¯å®Œæˆã—ã¾ã—ãŸãŒã€åºŠã«è½ã¡ã¦ã„ãŸã®ã¯åˆ¥ã®ãƒ”ãƒ¼ã‚¹ã§ã—ãŸã€‚\nã‚‚ã—ã‹ã—ãŸã‚‰ã€å‘¨ã‚Šã‚’ã‚‚ã£ã¨æ¢ã—ã¦ã„ã‚Œã°ã€æ‹äººã®ã‚µãƒ—ãƒ©ã‚¤ã‚ºã«æ°—ã¥ã‘ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n(æ¬¡ã¯ã€ã‚‚ã£ã¨æ³¨æ„æ·±ãè¦³å¯Ÿã—ã‚ˆã†ã¨å¿ƒã«èª“ã„ã¾ã—ãŸ)'
          },
          2: {
            text: 'åºŠã‚’é€™ã„ã¤ãã°ã£ã¦æ¢ã™ã€‚è¦‹ã¤ã‹ã‚‰ãªã„ã€‚\næ‹äººï¼šã€Œæ¢ã—ç‰©?ã€\nç§ï¼šã€Œæœ€å¾Œã®ãƒ”ãƒ¼ã‚¹ãŒãƒ»ãƒ»ãƒ»ã€\næ‹äººï¼šãƒã‚±ãƒƒãƒˆã‹ã‚‰å–ã‚Šå‡ºã—ã¦ã€Œå®Ÿã¯ã€ã‚‚ã†ã²ã¨ã¤ã€‘è²·ã£ã¦ãŠã„ãŸã‚“ã ã€‚å›ãŒå®Œæˆã•ã›ãŸæ™‚ã®ãŸã‚ã«ã€\nç®±ã«ã¯åŒã˜ãƒ‘ã‚ºãƒ«ãŒå…¥ã£ã¦ã„ãŸã€‚\n\n(ç®±ã®è“‹ã®å†…å´ã«æ–‡å­—ãŒ...ã€Œã¤ã€)',
            hasWord: true,
            epilogue: 'æ‹äººã®å„ªã—ã•ã«æ„Ÿå‹•ã—ãŸã‚ãªãŸã¯ã€äºŒäººã§æ–°ã—ã„ãƒ‘ã‚ºãƒ«ã‚’å®Œæˆã•ã›ãªãŒã‚‰å¹¸ã›ãªæ™‚é–“ã‚’éã”ã—ã¾ã—ãŸã€‚\n(æœ€å¾Œã®æ–‡å­—ã‚’æ‰‹ã«å…¥ã‚ŒãŸ...ã€Œã¤ã€)'
          }
        }
      },
      {
        id: 6,
        title: 'çœŸå®Ÿã®æ‰‰',
        setup: '5ã¤ã®ã€Œã‚‚ã†ã²ã¨ã¤ã€ã‚’é›†ã‚ãŸã‚ãªãŸã®å‰ã«ã€å¤ã³ãŸæ‰‰ãŒç¾ã‚Œã¾ã—ãŸã€‚\næ‰‰ã«ã¯ã€Œã‚‚ã†ã²ã¨ã¤ã€ã¨ã„ã†æ–‡å­—ãŒåˆ»ã¾ã‚Œã¦ã„ã¾ã™ã€‚\nè¬ã®å£°ãŒéŸ¿ãã¾ã™ï¼šã€Œãªãœã€ã‚ãªãŸã¯ã€ã‚‚ã†ã²ã¨ã¤ã€ã‚’æ¢ã—ç¶šã‘ãŸã®ã‹ï¼Ÿã€',
        choices: [
          { id: 1, text: 'ã€Œå¥½å¥‡å¿ƒã‹ã‚‰ã§ã™ã€ã¨ç­”ãˆã‚‹', preview: 'ç§ï¼šã€ŒãŸã ã€æ°—ã«ãªã£ãŸã ã‘...' },
          { id: 2, text: 'ã€Œç­”ãˆã‚’çŸ¥ã‚ŠãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€ã¨ç­”ãˆã‚‹', preview: 'å£°ï¼šã€Œã§ã¯ã€ãã®ç­”ãˆã‚’...' }
        ],
        branches: {
          1: {
            text: 'ç§ï¼šã€ŒãŸã ã€æ°—ã«ãªã£ãŸã ã‘ã§ã™ã€\nå£°ï¼šã€Œãªã‚‹ã»ã©...ã§ã¯ã€ãã®å¥½å¥‡å¿ƒãŒã‚ãªãŸã‚’ã“ã“ã¸å°ã„ãŸã®ã§ã™ã­ã€\næ‰‰ãŒã‚†ã£ãã‚Šã¨é–‹ãã€‚\nä¸­ã‹ã‚‰å…‰ãŒæº¢ã‚Œå‡ºã—ã€ã‚ãªãŸã®å‰ã«ç¾ã‚ŒãŸã®ã¯...\n\nå£°ï¼šã€Œå®Ÿã¯ã€ã€ã‚‚ã†ã²ã¨ã¤ã€ã‚’æ¢ã™ã“ã¨ã¯ã€äººç”Ÿã®ç¸®å›³ãªã®ã§ã™ã€\nã€Œã„ã¤ã‚‚ã€ã‚‚ã†ã²ã¨ã¤ã®é¸æŠè‚¢ã€ã‚‚ã†ã²ã¨ã¤ã®å¯èƒ½æ€§ã€ã‚‚ã†ã²ã¨ã¤ã®ç­”ãˆãŒã‚ã‚‹ã€\nã€Œãã‚Œã‚’æ¢ã—ç¶šã‘ã‚‹ã“ã¨ãŒã€æˆé•·ã¸ã®éµãªã®ã§ã™ã€\n\nã‚ãªãŸã¯æ·±ãé ·ã„ãŸã€‚',
            hasWord: false,
            epilogue: 'å¥½å¥‡å¿ƒã‹ã‚‰å§‹ã¾ã£ãŸæ—…è·¯ã§ã—ãŸãŒã€çœŸå®Ÿã®ä¸€éƒ¨ã—ã‹è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nã‚‚ã—ã‹ã—ãŸã‚‰ã€ã€Œç­”ãˆã‚’çŸ¥ã‚ŠãŸã‹ã£ãŸã€ã¨ç­”ãˆã‚‹ã“ã¨ã§ã€ã‚‚ã£ã¨æ·±ã„çœŸå®Ÿã«è¾¿ã‚Šç€ã‘ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nãã‚Œã§ã‚‚ã€ã‚ãªãŸã¯ã€Œã‚‚ã†ã²ã¨ã¤ã€ã‚’æ¢ã—ç¶šã‘ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’å­¦ã³ã¾ã—ãŸã€‚'
          },
          2: {
            text: 'å£°ï¼šã€Œã§ã¯ã€ãã®ç­”ãˆã‚’æ•™ãˆã¾ã—ã‚‡ã†ã€\næ‰‰ãŒå¤§ããé–‹ãã€‚\n\nå£°ï¼šã€Œã‚ãªãŸãŒé›†ã‚ãŸã‚‚ã®...ãã‚Œã¯ä½•ã ã£ãŸã‹è¦šãˆã¦ã„ã¾ã™ã‹?ã€\nã‚ãªãŸã¯æ‰‹ã‚’ä¼¸ã°ã™ã€‚é›†ã‚ãŸæ–‡å­—ãŒæµ®ã‹ã³ä¸ŠãŒã‚‹...\n\nã€Œã‚‚ã€ã€Œã†ã€ã€Œã²ã€ã€Œã¨ã€ã€Œã¤ã€\n\nå£°ï¼šã€Œãã†ã€ã€ã‚‚ã†ã²ã¨ã¤ã€ã§ã™ã€\nã€Œã‚ãªãŸã¯5ã¤ã®ç‰©èªã‚’é€šã˜ã¦ã€ã“ã®è¨€è‘‰ã‚’é›†ã‚ã¾ã—ãŸã€\nã€Œãªãœã€ã‚‚ã†ã²ã¨ã¤ã€ã‚’æ¢ã™å¿…è¦ãŒã‚ã£ãŸã®ã‹...ã€\nã€Œãã‚Œã¯ã€ã‚ãªãŸè‡ªèº«ãŒã€ã‚‚ã†ã²ã¨ã¤ã€ã®å­˜åœ¨ã ã‹ã‚‰ã§ã™ã€\nã€Œã“ã®ä¸–ç•Œã«ã¯ã€ã‚ãªãŸã¨ã„ã†ã€ã‚‚ã†ã²ã¨ã¤ã€ã®å¯èƒ½æ€§ãŒå¿…è¦ã ã£ãŸã€\nã€Œé¸æŠè‚¢ãŒ2ã¤ã‚ã‚‹æ™‚ã€å¸¸ã«ã€ã‚‚ã†ã²ã¨ã¤ã€ã®é“ã‚’æ¢ã™ã“ã¨ã€\nã€Œãã‚ŒãŒã€ã‚ãªãŸã‚’ç‰¹åˆ¥ãªå­˜åœ¨ã«ã™ã‚‹ã®ã§ã™ã€\n\nå…‰ã«åŒ…ã¾ã‚ŒãªãŒã‚‰ã€ã‚ãªãŸã¯å…¨ã¦ã‚’ç†è§£ã—ãŸã€‚\né›†ã‚ãŸæ–‡å­—ãŒã€Œã‚‚ã†ã²ã¨ã¤ã€ã¨ã„ã†è¨€è‘‰ã¨ã—ã¦è¼ã„ãŸã€‚\nãã—ã¦ã€æ‰‰ã®å‘ã“ã†ã«ã¯æ–°ã—ã„ä¸–ç•ŒãŒåºƒãŒã£ã¦ã„ãŸã€‚',
            hasWord: true,
            epilogue: 'ã€Œã‚‚ã†ã²ã¨ã¤ã€ã®çœŸå®Ÿã‚’çŸ¥ã£ãŸã‚ãªãŸã¯ã€ã“ã‚Œã‹ã‚‰ã‚‚å¸¸ã«æ–°ã—ã„å¯èƒ½æ€§ã‚’æ¢ã—ç¶šã‘ã‚‹ã“ã¨ã‚’èª“ã„ã¾ã—ãŸã€‚\n\n(ã‚ãªãŸãŒé›†ã‚ãŸæ–‡å­—ã€Œã‚‚ã€ã€Œã†ã€ã€Œã²ã€ã€Œã¨ã€ã€Œã¤ã€ã¯ã€\nã€Œã‚‚ã†ã²ã¨ã¤ã€ã¨ã„ã†è¨€è‘‰ã¨ã—ã¦ã€ã‚ãªãŸã®å¿ƒã«åˆ»ã¾ã‚Œã¾ã—ãŸ)'
          }
        }
      }
    ];

    function MiniNovelGame() {
      const [currentScenario, setCurrentScenario] = useState(null);
      const [gameState, setGameState] = useState('selection');
      const [selectedChoice, setSelectedChoice] = useState(null);
      const [score, setScore] = useState(0);
      const [completedScenarios, setCompletedScenarios] = useState(new Set());
      const [scenarioResults, setScenarioResults] = useState({}); // å„ã‚·ãƒŠãƒªã‚ªã®çµæœã‚’ä¿å­˜
      const [collectedLetters, setCollectedLetters] = useState(new Set()); // é›†ã‚ãŸæ–‡å­—ã‚’ä¿å­˜

      const handleScenarioSelect = (scenarioId) => {
        const scenarioIndex = scenarios.findIndex(s => s.id === scenarioId);
        setCurrentScenario(scenarioIndex);
        setGameState('setup');
        setSelectedChoice(null);
      };

      const handleChoice = (choiceId) => {
        setSelectedChoice(choiceId);
        const branch = scenarios[currentScenario].branches[choiceId];
        const scenarioId = scenarios[currentScenario].id;
        
        if (branch.hasWord) {
          const newScore = score + 1;
          setScore(newScore);
          setCompletedScenarios(new Set([...completedScenarios, scenarioId]));
          setScenarioResults({
            ...scenarioResults,
            [scenarioId]: { hasWord: true }
          });
          
          // æ–‡å­—ã‚’åé›†ï¼ˆã‚·ãƒŠãƒªã‚ª1-5ã®ã¿ï¼‰
          if (scenarioId <= 5) {
            const letters = ['ã‚‚', 'ã†', 'ã²', 'ã¨', 'ã¤'];
            const letterIndex = scenarioId - 1;
            if (letterIndex < letters.length) {
              setCollectedLetters(new Set([...collectedLetters, letters[letterIndex]]));
            }
          }
        } else {
          setScenarioResults({
            ...scenarioResults,
            [scenarioId]: { hasWord: false }
          });
        }
        
        setGameState('result');
      };

      const backToSelection = () => {
        setGameState('selection');
        setCurrentScenario(null);
        setSelectedChoice(null);
      };

      const reset = () => {
        setCurrentScenario(null);
        setGameState('selection');
        setSelectedChoice(null);
        setScore(0);
        setCompletedScenarios(new Set());
        setScenarioResults({});
        setCollectedLetters(new Set());
      };

      // é¸æŠç”»é¢
      if (gameState === 'selection') {
        const totalCompleted = completedScenarios.size;
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4">
            <div className="bg-white/90 backdrop-blur rounded-2xl shadow-2xl p-8 max-w-4xl w-full">
              <div className="text-center mb-8">
                <h1 className="text-4xl font-bold text-gray-800 mb-2">ãƒŸãƒ‹ãƒãƒ™ãƒ«ã‚²ãƒ¼ãƒ </h1>
                <p className="text-lg text-gray-600 mb-4">
                  ã€ã‚‚ã†ã²ã¨ã¤ã€‘ãƒ¯ãƒ¼ãƒ‰ã‚²ãƒƒãƒˆæ•°: {score} / {scenarios.length}
                  {score > scenarios.length && <span className="text-red-500 font-bold ml-2">ï¼ˆãŠã‚„ï¼Ÿï¼‰</span>}
                </p>
                <p className="text-sm text-gray-500">ã‚·ãƒŠãƒªã‚ªã‚’é¸æŠã—ã¦ãã ã•ã„</p>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                {scenarios.map((scenario) => {
                  // 6ç•ªç›®ã®ã‚·ãƒŠãƒªã‚ªã¯æœ€åˆã®5ã¤ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã¾ã§è¡¨ç¤ºã—ãªã„
                  const firstFiveCompleted = scenarios.filter(s => s.id <= 5).every(s => completedScenarios.has(s.id));
                  if (scenario.id === 6 && !firstFiveCompleted) {
                    return null;
                  }
                  
                  const isCompleted = completedScenarios.has(scenario.id);
                  const result = scenarioResults[scenario.id];
                  const isLocked = scenario.id === 6 && !firstFiveCompleted;
                  
                  return (
                    <button
                      key={scenario.id}
                      onClick={() => !isLocked && handleScenarioSelect(scenario.id)}
                      disabled={isLocked}
                      className={`relative p-6 rounded-lg transition-all transform hover:scale-105 text-left ${
                        isLocked
                          ? 'bg-gray-400 cursor-not-allowed opacity-50'
                          : isCompleted
                          ? 'bg-gradient-to-br from-green-500 to-emerald-600 text-white'
                          : 'bg-gradient-to-br from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600'
                      }`}
                    >
                      <div className="font-bold text-xl mb-2">
                        {scenario.title}
                        {scenario.id === 6 && firstFiveCompleted && (
                          <span className="ml-2 text-yellow-300 text-sm">âœ¨ æ–°è¦è¿½åŠ </span>
                        )}
                      </div>
                      <div className="text-sm opacity-90 line-clamp-2">
                        {isLocked ? 'æœ€åˆã®5ã¤ã®ã‚·ãƒŠãƒªã‚ªã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã¨å‡ºç¾ã—ã¾ã™' : scenario.setup}
                      </div>
                      {isCompleted && (
                        <div className="absolute top-2 right-2">
                          <Award className="w-6 h-6 text-yellow-300" />
                        </div>
                      )}
                      {result && !result.hasWord && (
                        <div className="absolute top-2 right-2">
                          <span className="text-xs bg-white/30 px-2 py-1 rounded">æœªç²å¾—</span>
                        </div>
                      )}
                      {isLocked && (
                        <div className="absolute top-2 right-2">
                          <span className="text-xs bg-white/30 px-2 py-1 rounded">ğŸ”’ ãƒ­ãƒƒã‚¯</span>
                        </div>
                      )}
                    </button>
                  );
                })}
              </div>

              {totalCompleted === scenarios.length && (
                <div className="mt-8 text-center">
                  <div className="bg-yellow-100 border-2 border-yellow-500 rounded-lg p-4 inline-block">
                    <p className="text-yellow-800 font-bold text-lg">
                      ğŸ‰ å…¨ã‚·ãƒŠãƒªã‚ªã‚¯ãƒªã‚¢ï¼ ğŸ‰
                    </p>
                  </div>
                </div>
              )}
              
              {scenarios.filter(s => s.id <= 5).every(s => completedScenarios.has(s.id)) && !completedScenarios.has(6) && (
                <div className="mt-8 text-center">
                  <div className="bg-purple-100 border-2 border-purple-500 rounded-lg p-4 inline-block animate-pulse">
                    <p className="text-purple-800 font-bold text-lg">
                      âœ¨ æ–°ã—ã„ã‚·ãƒŠãƒªã‚ªãŒå‡ºç¾ã—ã¾ã—ãŸï¼ âœ¨
                    </p>
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      }

      // ã‚·ãƒŠãƒªã‚ªãƒ—ãƒ¬ã‚¤ä¸­
      const scenario = scenarios[currentScenario];

      return (
        <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4">
          <div className="bg-white/90 backdrop-blur rounded-2xl shadow-2xl p-8 max-w-2xl w-full">
            <div className="flex justify-between items-center mb-6">
              <h1 className="text-2xl font-bold text-gray-800">
                {scenario.title}
              </h1>
              <div className="flex items-center gap-4">
                <div className="text-sm text-gray-600">
                  ã‚¹ã‚³ã‚¢: {score} / {scenarios.length}
                  {score > scenarios.length && <span className="text-red-500 font-bold ml-1">ï¼ˆãŠã‚„ï¼Ÿï¼‰</span>}
                </div>
                <button
                  onClick={backToSelection}
                  className="text-sm text-purple-600 hover:text-purple-800 underline"
                >
                  é¸æŠç”»é¢ã«æˆ»ã‚‹
                </button>
              </div>
            </div>

            {gameState === 'setup' && (
              <div className="space-y-6">
                <p className="text-lg text-gray-700 whitespace-pre-line leading-relaxed">
                  {scenario.setup}
                </p>
                <div className="space-y-3">
                  {scenario.choices.map((choice) => (
                    <button
                      key={choice.id}
                      onClick={() => handleChoice(choice.id)}
                      className="w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium py-4 px-6 rounded-lg transition-all transform hover:scale-105 text-left"
                    >
                      <div className="font-bold mb-1">é¸æŠè‚¢{choice.id}ï¼š{choice.text}</div>
                      <div className="text-sm text-purple-100 opacity-80">
                        {choice.preview}
                      </div>
                    </button>
                  ))}
                </div>
              </div>
            )}

            {gameState === 'result' && (
              <div className="space-y-6">
                <div className="bg-gray-50 rounded-lg p-6">
                  <p className="text-gray-700 whitespace-pre-line leading-relaxed">
                    {scenario.branches[selectedChoice].text}
                  </p>
                </div>

                {scenario.branches[selectedChoice].hasWord ? (
                  <div className="bg-green-100 border-2 border-green-500 rounded-lg p-4 text-center">
                    <p className="text-green-800 font-bold text-xl">
                      âœ¨ ã€ã‚‚ã†ã²ã¨ã¤ã€‘ãƒ¯ãƒ¼ãƒ‰ã‚²ãƒƒãƒˆ! âœ¨
                    </p>
                  </div>
                ) : (
                  <div className="bg-red-100 border-2 border-red-500 rounded-lg p-4 text-center">
                    <p className="text-red-800 font-bold">
                      æ®‹å¿µ...ã€ã‚‚ã†ã²ã¨ã¤ã€‘ã¯å‡ºã¾ã›ã‚“ã§ã—ãŸ
                    </p>
                  </div>
                )}

                <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                  <p className="text-sm text-blue-600 font-semibold mb-1">å¾Œæ—¥è«‡</p>
                  <p className="text-gray-700 whitespace-pre-line">
                    {scenario.branches[selectedChoice].epilogue || scenario.epilogue}
                  </p>
                </div>

                <button
                  onClick={backToSelection}
                  className="w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-bold py-4 px-6 rounded-lg transition-all"
                >
                  ã‚·ãƒŠãƒªã‚ªé¸æŠã«æˆ»ã‚‹
                </button>
              </div>
            )}
          </div>
        </div>
      );
    }

    // ã‚¢ãƒ—ãƒªã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<MiniNovelGame />);
  </script>
</body>
</html>

