<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ミニノベルゲーム</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React and ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Babel Standalone for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* カスタムスタイル */
    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // アイコンコンポーネント（SVG）
    const RotateCcw = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
      </svg>
    );

    const Award = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
      </svg>
    );

    const scenarios = [
      {
        id: 1,
        title: '謎の依頼',
        setup: 'あなたは探偵事務所で古い写真を手渡されました。',
        choices: [
          { id: 1, text: '写真の人物について調べる', preview: '私：「この人物は...' },
          { id: 2, text: '写真の背景について調べる', preview: '私：「この建物は...' }
        ],
        branches: {
          1: {
            text: '私：「この人物は10年前に失踪した田中様ですね」\n依頼人：「そう、でも私が知りたいのは・・・」\n私：「失礼しました。【もうひとつ】の手がかりを調べます。背景の建物ですね」\n\n(あなたは何かを見つけた気がした。写真の隅に小さな文字が...「も」)',
            hasWord: true,
            epilogue: 'その後、あなたは背景の手がかりから事件を解決し、一人前の探偵として認められるようになりました。\n(何かが集まり始めている...「も」という文字を手に入れた)'
          },
          2: {
            text: '私：「この建物は取り壊された旧市庁舎です」\n依頼人：「まさにそこ!ありがとう、探偵さん」',
            hasWord: false,
            epilogue: '事件は解決しましたが、何か物足りなさを感じました。\n依頼人は満足していましたが、あなたは写真の人物についてもっと調べたかったのです。\n(もしかしたら、もうひとつの手がかりがあったのかもしれない...)'
          }
        }
      },
      {
        id: 2,
        title: '不思議なレストラン',
        setup: 'メニューには「本日のおすすめ」と「シェフのきまぐれ」があります。',
        choices: [
          { id: 1, text: '本日のおすすめを注文する', preview: 'シェフ：「お待たせ...' },
          { id: 2, text: 'シェフのきまぐれを注文する', preview: 'シェフ：「お待たせ...' }
        ],
        branches: {
          1: {
            text: 'シェフ：「お待たせしました」\n美味しい料理が運ばれてきた。\nシェフ：「お気に召しましたか?」\n私：「はい!」',
            hasWord: false,
            epilogue: '料理は美味しかったですが、シェフの「きまぐれ」が気になりました。\n次回は、きまぐれメニューも試してみようと心に決めました。\n(もしかしたら、あの空の皿には何か意味があったのかもしれない...)'
          },
          2: {
            text: 'シェフ：「お待たせしました」\n運ばれてきたのは空の皿。\n私：「あの・・・これは?」\nシェフ：にっこり笑って「今日のきまぐれは『想像の料理』です」\n私：「・・・?」\nシェフ：「冗談です。【もうひとつ】お持ちします」\n\n(皿の底に何かが刻まれていた...「う」)',
            hasWord: true,
            epilogue: 'シェフのユーモアに笑いながら、あなたはこのレストランの常連客になりました。\n(また文字を手に入れた...「う」)'
          }
        }
      },
      {
        id: 3,
        title: 'タイムカプセル',
        setup: '20年前に埋めたタイムカプセルを掘り起こす日がきました。',
        choices: [
          { id: 1, text: '一人で開ける', preview: '中には手紙と壊れた...' },
          { id: 2, text: '幼馴染を呼んで一緒に開ける', preview: '友：「開けよう!」...' }
        ],
        branches: {
          1: {
            text: '中には手紙と壊れたキーホルダーが入っていた。\n手紙：「未来の僕へ。夢は叶った?」\n胸が締め付けられる。\n(あいつと一緒に埋めたのに・・・)',
            hasWord: false,
            epilogue: '一人でタイムカプセルを開けた後、後悔の念に襲われました。\n幼馴染を呼べば良かった...そう思うと、胸が痛みました。\n(もしかしたら、一緒に開けていれば、違う何かが見つかったかもしれない)'
          },
          2: {
            text: '友：「開けよう!」\n中には手紙が二通。\n私：「あれ、一通しか入れてないよね?」\n友：ニヤリと笑って「実は僕も【もうひとつ】入れてたんだ。読んでみて」\n手紙には励ましの言葉が綴られていた。\n\n(手紙の裏に小さな文字が...「ひ」)',
            hasWord: true,
            epilogue: '幼馴染との絆を再確認したあなたは、二人で新しいタイムカプセルを埋めることにしました。\n(3つ目の文字を発見...「ひ」)'
          }
        }
      },
      {
        id: 4,
        title: '魔法学校の試験',
        setup: '試験官：「ウサギを出現させなさい」',
        choices: [
          { id: 1, text: '呪文を唱える', preview: 'パッ!ウサギが2...' },
          { id: 2, text: '帽子から取り出す', preview: 'スッと帽子からウサ...' }
        ],
        branches: {
          1: {
            text: 'パッ!ウサギが2羽出現した。\n試験官：「おや?」\n私：「すみません、魔力が強すぎて・・・」\n試験官：「構いません。では【もうひとつ】消してください」\n私：冷や汗をかく。\n\n(消えたウサギの跡に文字が浮かんだ...「と」)',
            hasWord: true,
            epilogue: 'あなたは魔法と手品の両方をマスターし、誰もが驚くエンターテイナーになりました。\n(4つ目の文字を手に入れた...「と」)'
          },
          2: {
            text: 'スッと帽子からウサギを取り出した。\n試験官：「完璧です。合格」\n試験が終わってから気づいた。\n(あれ、魔法使ってないぞ?)',
            hasWord: false,
            epilogue: '試験には合格しましたが、手品でごまかしたことに罪悪感を覚えました。\n本当の魔法を習得するため、あなたは再び魔法学校の門を叩くことにしました。\n(もしかしたら、呪文を唱えていれば、何か特別なことが起きたかもしれない)'
          }
        }
      },
      {
        id: 5,
        title: '最後のピース',
        setup: '1000ピースのジグソーパズルがあと1ピースで完成します。',
        choices: [
          { id: 1, text: '最後のピースをはめる', preview: 'カチッ。完成した絵は...' },
          { id: 2, text: '周りを探してみる', preview: '床を這いつくばって探...' }
        ],
        branches: {
          1: {
            text: 'カチッ。完成した絵は美しい星空。\n達成感に満たされる。\nその時、床に何かが落ちているのに気づいた。\n(え・・・まさか)',
            hasWord: false,
            epilogue: 'パズルは完成しましたが、床に落ちていたのは別のピースでした。\nもしかしたら、周りをもっと探していれば、恋人のサプライズに気づけたかもしれません。\n(次は、もっと注意深く観察しようと心に誓いました)'
          },
          2: {
            text: '床を這いつくばって探す。見つからない。\n恋人：「探し物?」\n私：「最後のピースが・・・」\n恋人：ポケットから取り出して「実は【もうひとつ】買っておいたんだ。君が完成させた時のために」\n箱には同じパズルが入っていた。\n\n(箱の蓋の内側に文字が...「つ」)',
            hasWord: true,
            epilogue: '恋人の優しさに感動したあなたは、二人で新しいパズルを完成させながら幸せな時間を過ごしました。\n(最後の文字を手に入れた...「つ」)'
          }
        }
      },
      {
        id: 6,
        title: '真実の扉',
        setup: '5つの「もうひとつ」を集めたあなたの前に、古びた扉が現れました。\n扉には「もうひとつ」という文字が刻まれています。\n謎の声が響きます：「なぜ、あなたは『もうひとつ』を探し続けたのか？」',
        choices: [
          { id: 1, text: '「好奇心からです」と答える', preview: '私：「ただ、気になっただけ...' },
          { id: 2, text: '「答えを知りたかったからです」と答える', preview: '声：「では、その答えを...' }
        ],
        branches: {
          1: {
            text: '私：「ただ、気になっただけです」\n声：「なるほど...では、その好奇心があなたをここへ導いたのですね」\n扉がゆっくりと開く。\n中から光が溢れ出し、あなたの前に現れたのは...\n\n声：「実は、『もうひとつ』を探すことは、人生の縮図なのです」\n「いつも、もうひとつの選択肢、もうひとつの可能性、もうひとつの答えがある」\n「それを探し続けることが、成長への鍵なのです」\n\nあなたは深く頷いた。',
            hasWord: false,
            epilogue: '好奇心から始まった旅路でしたが、真実の一部しか見ることができませんでした。\nもしかしたら、「答えを知りたかった」と答えることで、もっと深い真実に辿り着けたかもしれません。\nそれでも、あなたは「もうひとつ」を探し続けることの大切さを学びました。'
          },
          2: {
            text: '声：「では、その答えを教えましょう」\n扉が大きく開く。\n\n声：「あなたが集めたもの...それは何だったか覚えていますか?」\nあなたは手を伸ばす。集めた文字が浮かび上がる...\n\n「も」「う」「ひ」「と」「つ」\n\n声：「そう、『もうひとつ』です」\n「あなたは5つの物語を通じて、この言葉を集めました」\n「なぜ『もうひとつ』を探す必要があったのか...」\n「それは、あなた自身が『もうひとつ』の存在だからです」\n「この世界には、あなたという『もうひとつ』の可能性が必要だった」\n「選択肢が2つある時、常に『もうひとつ』の道を探すこと」\n「それが、あなたを特別な存在にするのです」\n\n光に包まれながら、あなたは全てを理解した。\n集めた文字が「もうひとつ」という言葉として輝いた。\nそして、扉の向こうには新しい世界が広がっていた。',
            hasWord: true,
            epilogue: '「もうひとつ」の真実を知ったあなたは、これからも常に新しい可能性を探し続けることを誓いました。\n\n(あなたが集めた文字「も」「う」「ひ」「と」「つ」は、\n「もうひとつ」という言葉として、あなたの心に刻まれました)'
          }
        }
      }
    ];

    function MiniNovelGame() {
      const [currentScenario, setCurrentScenario] = useState(null);
      const [gameState, setGameState] = useState('selection');
      const [selectedChoice, setSelectedChoice] = useState(null);
      const [score, setScore] = useState(0);
      const [completedScenarios, setCompletedScenarios] = useState(new Set());
      const [scenarioResults, setScenarioResults] = useState({}); // 各シナリオの結果を保存
      const [collectedLetters, setCollectedLetters] = useState(new Set()); // 集めた文字を保存

      const handleScenarioSelect = (scenarioId) => {
        const scenarioIndex = scenarios.findIndex(s => s.id === scenarioId);
        setCurrentScenario(scenarioIndex);
        setGameState('setup');
        setSelectedChoice(null);
      };

      const handleChoice = (choiceId) => {
        setSelectedChoice(choiceId);
        const branch = scenarios[currentScenario].branches[choiceId];
        const scenarioId = scenarios[currentScenario].id;
        
        if (branch.hasWord) {
          const newScore = score + 1;
          setScore(newScore);
          setCompletedScenarios(new Set([...completedScenarios, scenarioId]));
          setScenarioResults({
            ...scenarioResults,
            [scenarioId]: { hasWord: true }
          });
          
          // 文字を収集（シナリオ1-5のみ）
          if (scenarioId <= 5) {
            const letters = ['も', 'う', 'ひ', 'と', 'つ'];
            const letterIndex = scenarioId - 1;
            if (letterIndex < letters.length) {
              setCollectedLetters(new Set([...collectedLetters, letters[letterIndex]]));
            }
          }
        } else {
          setScenarioResults({
            ...scenarioResults,
            [scenarioId]: { hasWord: false }
          });
        }
        
        setGameState('result');
      };

      const backToSelection = () => {
        setGameState('selection');
        setCurrentScenario(null);
        setSelectedChoice(null);
      };

      const reset = () => {
        setCurrentScenario(null);
        setGameState('selection');
        setSelectedChoice(null);
        setScore(0);
        setCompletedScenarios(new Set());
        setScenarioResults({});
        setCollectedLetters(new Set());
      };

      // 選択画面
      if (gameState === 'selection') {
        const totalCompleted = completedScenarios.size;
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4">
            <div className="bg-white/90 backdrop-blur rounded-2xl shadow-2xl p-8 max-w-4xl w-full">
              <div className="text-center mb-8">
                <h1 className="text-4xl font-bold text-gray-800 mb-2">ミニノベルゲーム</h1>
                <p className="text-lg text-gray-600 mb-4">
                  【もうひとつ】ワードゲット数: {score} / {scenarios.length}
                  {score > scenarios.length && <span className="text-red-500 font-bold ml-2">（おや？）</span>}
                </p>
                <p className="text-sm text-gray-500">シナリオを選択してください</p>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                {scenarios.map((scenario) => {
                  // 6番目のシナリオは最初の5つをクリアするまで表示しない
                  const firstFiveCompleted = scenarios.filter(s => s.id <= 5).every(s => completedScenarios.has(s.id));
                  if (scenario.id === 6 && !firstFiveCompleted) {
                    return null;
                  }
                  
                  const isCompleted = completedScenarios.has(scenario.id);
                  const result = scenarioResults[scenario.id];
                  const isLocked = scenario.id === 6 && !firstFiveCompleted;
                  
                  return (
                    <button
                      key={scenario.id}
                      onClick={() => !isLocked && handleScenarioSelect(scenario.id)}
                      disabled={isLocked}
                      className={`relative p-6 rounded-lg transition-all transform hover:scale-105 text-left ${
                        isLocked
                          ? 'bg-gray-400 cursor-not-allowed opacity-50'
                          : isCompleted
                          ? 'bg-gradient-to-br from-green-500 to-emerald-600 text-white'
                          : 'bg-gradient-to-br from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600'
                      }`}
                    >
                      <div className="font-bold text-xl mb-2">
                        {scenario.title}
                        {scenario.id === 6 && firstFiveCompleted && (
                          <span className="ml-2 text-yellow-300 text-sm">✨ 新規追加</span>
                        )}
                      </div>
                      <div className="text-sm opacity-90 line-clamp-2">
                        {isLocked ? '最初の5つのシナリオをクリアすると出現します' : scenario.setup}
                      </div>
                      {isCompleted && (
                        <div className="absolute top-2 right-2">
                          <Award className="w-6 h-6 text-yellow-300" />
                        </div>
                      )}
                      {result && !result.hasWord && (
                        <div className="absolute top-2 right-2">
                          <span className="text-xs bg-white/30 px-2 py-1 rounded">未獲得</span>
                        </div>
                      )}
                      {isLocked && (
                        <div className="absolute top-2 right-2">
                          <span className="text-xs bg-white/30 px-2 py-1 rounded">🔒 ロック</span>
                        </div>
                      )}
                    </button>
                  );
                })}
              </div>

              {totalCompleted === scenarios.length && (
                <div className="mt-8 text-center">
                  <div className="bg-yellow-100 border-2 border-yellow-500 rounded-lg p-4 inline-block">
                    <p className="text-yellow-800 font-bold text-lg">
                      🎉 全シナリオクリア！ 🎉
                    </p>
                  </div>
                </div>
              )}
              
              {scenarios.filter(s => s.id <= 5).every(s => completedScenarios.has(s.id)) && !completedScenarios.has(6) && (
                <div className="mt-8 text-center">
                  <div className="bg-purple-100 border-2 border-purple-500 rounded-lg p-4 inline-block animate-pulse">
                    <p className="text-purple-800 font-bold text-lg">
                      ✨ 新しいシナリオが出現しました！ ✨
                    </p>
                  </div>
                </div>
              )}

              {/* 登場人物プロフィール */}
              <div className="mt-12 pt-8 border-t-2 border-gray-300">
                <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">登場人物プロフィール</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                  {/* シナリオ1: も */}
                  <div className="bg-gradient-to-br from-pink-50 to-rose-50 rounded-lg p-4 border-2 border-pink-200">
                    <h3 className="font-bold text-lg text-gray-800 mb-2">もも子（依頼人）</h3>
                    <p className="text-sm text-gray-700 mb-2">
                      <span className="font-semibold">職業:</span> 会社員<br/>
                      <span className="font-semibold">特徴:</span> 10年前に失踪した人物の写真を持参。探偵に「もうひとつ」の手がかりを求めている。写真の隅に何か隠されているかもしれない。
                    </p>
                    <p className="text-xs text-pink-600 italic">「もっと深く調べてほしいの...」</p>
                  </div>

                  {/* シナリオ2: う */}
                  <div className="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 border-2 border-blue-200">
                    <h3 className="font-bold text-lg text-gray-800 mb-2">うみ（シェフ）</h3>
                    <p className="text-sm text-gray-700 mb-2">
                      <span className="font-semibold">職業:</span> レストランシェフ<br/>
                      <span className="font-semibold">特徴:</span> ユーモア好きで、時々「きまぐれ」なメニューを提供。空の皿を出すこともあるが、その裏には何か意味があるかもしれない。
                    </p>
                    <p className="text-xs text-blue-600 italic">「お客様には、もうひとつの楽しみを...」</p>
                  </div>

                  {/* シナリオ3: ひ */}
                  <div className="bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg p-4 border-2 border-yellow-200">
                    <h3 className="font-bold text-lg text-gray-800 mb-2">ひろ（幼馴染）</h3>
                    <p className="text-sm text-gray-700 mb-2">
                      <span className="font-semibold">職業:</span> フリーランス<br/>
                      <span className="font-semibold">特徴:</span> 20年前に一緒にタイムカプセルを埋めた親友。実は、あなたが知らない「もうひとつ」の手紙を入れていた。手紙の裏には何か書かれているかもしれない。
                    </p>
                    <p className="text-xs text-yellow-600 italic">「実は、もうひとつ秘密があるんだ...」</p>
                  </div>

                  {/* シナリオ4: と */}
                  <div className="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg p-4 border-2 border-purple-200">
                    <h3 className="font-bold text-lg text-gray-800 mb-2">とおる（試験官）</h3>
                    <p className="text-sm text-gray-700 mb-2">
                      <span className="font-semibold">職業:</span> 魔法学校の試験官<br/>
                      <span className="font-semibold">特徴:</span> 厳格だが、予想外の結果にも柔軟に対応する。ウサギが2羽出現した時、「もうひとつ」消すよう指示。消えた跡には何かが残るかもしれない。
                    </p>
                    <p className="text-xs text-purple-600 italic">「もうひとつ、試してみなさい」</p>
                  </div>

                  {/* シナリオ5: つ */}
                  <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200">
                    <h3 className="font-bold text-lg text-gray-800 mb-2">つばさ（恋人）</h3>
                    <p className="text-sm text-gray-700 mb-2">
                      <span className="font-semibold">職業:</span> デザイナー<br/>
                      <span className="font-semibold">特徴:</span> 優しく気配り上手。パズルが完成することを見越して、「もうひとつ」のパズルを用意していた。箱の蓋の内側に何かメッセージがあるかもしれない。
                    </p>
                    <p className="text-xs text-green-600 italic">「君のために、もうひとつ準備してたんだ」</p>
                  </div>
                </div>
                
                <div className="mt-6 p-4 bg-gray-100 rounded-lg border-l-4 border-gray-400">
                  <p className="text-sm text-gray-700">
                    <span className="font-semibold">💡 ヒント:</span> 各登場人物の名前には、特別な文字が隠されています。
                    プロフィールをよく読むと、どこに「もうひとつ」があるか分かるかもしれません...
                  </p>
                </div>
              </div>
            </div>
          </div>
        );
      }

      // シナリオプレイ中
      const scenario = scenarios[currentScenario];

      return (
        <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4">
          <div className="bg-white/90 backdrop-blur rounded-2xl shadow-2xl p-8 max-w-2xl w-full">
            <div className="flex justify-between items-center mb-6">
              <h1 className="text-2xl font-bold text-gray-800">
                {scenario.title}
              </h1>
              <div className="flex items-center gap-4">
                <div className="text-sm text-gray-600">
                  スコア: {score} / {scenarios.length}
                  {score > scenarios.length && <span className="text-red-500 font-bold ml-1">（おや？）</span>}
                </div>
                <button
                  onClick={backToSelection}
                  className="text-sm text-purple-600 hover:text-purple-800 underline"
                >
                  選択画面に戻る
                </button>
              </div>
            </div>

            {gameState === 'setup' && (
              <div className="space-y-6">
                <p className="text-lg text-gray-700 whitespace-pre-line leading-relaxed">
                  {scenario.setup}
                </p>
                <div className="space-y-3">
                  {scenario.choices.map((choice) => (
                    <button
                      key={choice.id}
                      onClick={() => handleChoice(choice.id)}
                      className="w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium py-4 px-6 rounded-lg transition-all transform hover:scale-105 text-left"
                    >
                      <div className="font-bold mb-1">選択肢{choice.id}：{choice.text}</div>
                      <div className="text-sm text-purple-100 opacity-80">
                        {choice.preview}
                      </div>
                    </button>
                  ))}
                </div>
              </div>
            )}

            {gameState === 'result' && (
              <div className="space-y-6">
                <div className="bg-gray-50 rounded-lg p-6">
                  <p className="text-gray-700 whitespace-pre-line leading-relaxed">
                    {scenario.branches[selectedChoice].text}
                  </p>
                </div>

                {scenario.branches[selectedChoice].hasWord ? (
                  <div className="bg-green-100 border-2 border-green-500 rounded-lg p-4 text-center">
                    <p className="text-green-800 font-bold text-xl">
                      ✨ 【もうひとつ】ワードゲット! ✨
                    </p>
                  </div>
                ) : (
                  <div className="bg-red-100 border-2 border-red-500 rounded-lg p-4 text-center">
                    <p className="text-red-800 font-bold">
                      残念...【もうひとつ】は出ませんでした
                    </p>
                  </div>
                )}

                <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                  <p className="text-sm text-blue-600 font-semibold mb-1">後日談</p>
                  <p className="text-gray-700 whitespace-pre-line">
                    {scenario.branches[selectedChoice].epilogue || scenario.epilogue}
                  </p>
                </div>

                <button
                  onClick={backToSelection}
                  className="w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-bold py-4 px-6 rounded-lg transition-all"
                >
                  シナリオ選択に戻る
                </button>
              </div>
            )}
          </div>
        </div>
      );
    }

    // アプリをレンダリング
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<MiniNovelGame />);
  </script>
</body>
</html>

